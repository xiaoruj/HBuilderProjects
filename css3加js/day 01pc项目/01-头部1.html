<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/index1.css"/>
	</head>
	<body>
		<div id="wrap">
		    <!--头部区域-->
		    <header id="header">
		        <div class="headerMain">
		            <!--logo-->
		            <h1 class="logo">
		                <a href="javascript:;">
		                    <img src="img/logo.png" alt="">
		                </a>
		            </h1>
		            <!--导航-->
		            <nav class="nav">
		                <ul>
		                    <li>
		                        <a href="javascript:;">
		                            <div class="up"><img src="img/home_gruen.png" alt=""></div>
		                            <div class="down"><img src="img/home.png" alt=""></div>
		                        </a>
		                    </li>
		                    <li>
		                        <a href="javascript:;">
		                            <div class="up">课程</div>
		                            <div class="down">课程</div>
		                        </a>
		                    </li>
		                    <li>
		                        <a href="javascript:;">
		                            <div class="up">作品</div>
		                            <div class="down">作品</div>
		                        </a>
		                    </li>
		                    <li>
		                        <a href="javascript:;">
		                            <div class="up">关于</div>
		                            <div class="down">关于</div>
		                        </a>
		                    </li>
		                    <li>
		                        <a href="javascript:;">
		                            <div class="up">讲师团队</div>
		                            <div class="down">讲师团队</div>
		                        </a>
		                    </li>
		                </ul>
		            </nav>
		        </div>
		        <div class="arrow"></div>
		    </header>
		    <!--内容区域-->
		    <div class="content" id="content">
				<ul class="list">
					<li>
						<div>第一屏</div>
					</li>
					<li>
						<div>第二屏</div>
					</li>
					<li>
						<div>第三屏</div>
					</li>
					<li>
						<div>第四屏</div>
					</li>
					<li>
						<div>第五屏</div>
					</li>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			window.onload = function (){
				// 获取元素
				var liNodes = document.querySelectorAll('#header .headerMain .nav li');
				var upNodes = document.querySelectorAll('#header .headerMain .nav li .up');
				var arrow = document.querySelector('.arrow');
				var content = document.getElementById('content');
				var contentLi = document.querySelectorAll('#content .list>li');
				var header = document.getElementById('header');
				var now = 0;
				
				
				// 内容区域逻辑
				contentBind();
				function contentBind(){
					content.style.height =document.documentElement.clientHeight - header.offsetHeight + 'px';
					for(var i = 0; i < contentLi.length; i++){
						contentLi[i].style.height = document.documentElement.clientHeight - header.offsetHeight + 'px';
					}
				}
				
				
				// 页面初始化
				upNodes[0].style.width = '100%';
				arrow.style.left = liNodes[0].getBoundingClientRect().left + liNodes[0].offsetWidth / 2 -arrow.offsetWidth / 2 + 'px';
				// li绑定点击事件
				for (var i = 0; i < liNodes.length; i++) {
				//给每一个li添加索引
					liNodes[i].index = i;
					liNodes[i].onclick = function () {
					now = this.index;
					move(now);
					}
				}
				function move(now){
					for (var j = 0; j < upNodes.length; j++) {
						
					//不要写0 不然hover设置的划过样式会失效
						upNodes[j].style.width = '';
						}
						
					//给当前点击的li对应的up设置为百分百
						upNodes[now].style.width = '100%';
					//小三角切换
						arrow.style.left = liNodes[now].getBoundingClientRect().left + liNodes[now].offsetWidth / 2 - arrow.offsetWidth / 2 + 'px';
					//listtop值设置
						contentList.style.top = -now*(document.documentElement.clientHeight - header.offsetHeight)+'px';
				}
			}
		</script>
	</body>
</html>
